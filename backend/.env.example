# ==============================================================================
# CONFIGURATION DE SÉCURITÉ - GENESIS ERP
# ==============================================================================

# ------------------------------------------------------------------------------
# MODE DE DÉVELOPPEMENT (IMPORTANT!)
# ------------------------------------------------------------------------------
# DEV_MODE=true  : Désactive complètement la sécurité JWT. Vous pouvez travailler
#                  sans vous connecter. Toutes les routes sont accessibles.
# DEV_MODE=false : Active la sécurité stricte JWT. Connexion obligatoire pour
#                  accéder aux routes protégées.
#
# ⚠️  TOUJOURS mettre DEV_MODE=false en production !
# ------------------------------------------------------------------------------
DEV_MODE=true

# ------------------------------------------------------------------------------
# BASE DE DONNÉES
# ------------------------------------------------------------------------------
DATABASE_URL="postgresql://user:password@host:5432/database?sslmode=require"

# ------------------------------------------------------------------------------
# JWT (JSON Web Tokens)
# ------------------------------------------------------------------------------
# Secret utilisé pour signer les tokens JWT (DOIT être long et aléatoire en prod)
JWT_SECRET=changez-moi-en-production-avec-une-longue-chaine-aleatoire

# Durée de vie de l'access token (en secondes ou format: 15m, 1h, 7d, etc.)
JWT_EXPIRES_IN=15m

# Durée de vie du refresh token (format: 7d, 30d, etc.)
JWT_REFRESH_EXPIRES_IN=7d

# Durée de vie du refresh token en millisecondes (doit correspondre à JWT_REFRESH_EXPIRES_IN)
REFRESH_TOKEN_EXPIRES_MS=604800000

# ------------------------------------------------------------------------------
# CORS (Cross-Origin Resource Sharing)
# ------------------------------------------------------------------------------
# Liste des origines autorisées à faire des requêtes vers l'API (séparées par des virgules)
# Ajoutez toutes les URLs de votre frontend (localhost, 127.0.0.1, IP locale, domaine de prod)
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# ------------------------------------------------------------------------------
# COOKIES
# ------------------------------------------------------------------------------
# Configuration SameSite pour les cookies refresh_token
# Valeurs possibles: 'strict', 'lax', 'none'
# En développement local: 'lax' suffit
# En production cross-domain: 'none' (nécessite HTTPS)
COOKIE_SAMESITE=lax

# ------------------------------------------------------------------------------
# ENVIRONNEMENT
# ------------------------------------------------------------------------------
# development ou production
NODE_ENV=development

# ------------------------------------------------------------------------------
# DEBUG (optionnel)
# ------------------------------------------------------------------------------
# Permet d'accéder à GET /auth/debug même en production (déconseillé)
# ALLOW_DEBUG=true
